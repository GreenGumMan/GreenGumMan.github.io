---
layout: posts
title:  "[C語言]a626. 6. Prime Directive思路"
date:   2025-12-20 16:07:45 +0800
---
## 思路
這題要找質數，我提供比較複雜的解法。   
n的質數的找法就是把所有小於n的數字遍歷一遍，至於如何遍歷又是一門學問，以下列舉幾種方法:  
1. 全部遍歷法  
把所有小於$$n$$的數全部看一遍。  
2. 一半遍歷法
    對於一個正整數$$n$$若非1正整數$$a$$為$$n$$的因數則二者關係可寫成以下表示:

    $$
    n = a \times b
    $$

    其中$$b$$為一個正整數。由上式可以推得：

    $$
    \frac{n}{2} = \frac{a\times b}{2} = \frac{a}{2}\times b
    $$ 

    可推得一個非質數必有一非1因數小於等於$$\frac{n}{2}$$，故我們找$$\frac{n}{2}$$即可。

    >這邊有一件有趣的事是若$$b$$大於等於$$\frac{n}{2}$$的話，$$\frac{a}{2}$$必小於1那$$a$$最大只能是2了。

3. 根號遍歷法(建議) 
    同樣的設定，若$$a > \sqrt{n}$$，則$$b$$必小於$$\sqrt{n}$$，若$$a = \sqrt{n}$$則 $$b = \sqrt{n}$$，可推得一個非質數必有一非1因數小於等於$$\sqrt{n}$$，故我們找到$$\sqrt{n}$$即可。

然而這一題不只這樣，他還要排版，要求是:
>每個數字含它前面的空白共 10 個字元

這裡同樣有兩個做法:  
1. 算數字位數法  
首先你需要計算數字位數`k`，輸出`10-k`個空白後輸出數字
2. 直接設陣列法(建議)
這題的`n`在1000內，只有三位數，根本不用寫上面的方法!以下是我寫的:
    ```c
    char llh[10] = "         \0";//1位
    char lh[9] =   "        \0";//2位
    char h[8] =    "       \0";//3位
    ```

## 解
```c
#include <math.h>
#include <stdio.h>

int prime(int n){
    if(n == 2) return 1;
    for(int i = 2;i <= sqrt(n);i++){
        if(n % i == 0) return 0;
    }
    return 1;
}

int main(){
    int n;

    char llh[10] = "         \0";
    char lh[9] =   "        \0";
    char h[8] =    "       \0";
    while (scanf("%d",&n) == 1)
    {
        int a = 0;
        for(int i=2;i<n;i++){
            if(prime(i)){

                if(i < 10)printf("%s%d",llh,i);
                else if (i<100)printf("%s%d",lh,i);
                else printf("%s%d",h,i);
                a++;

                if(a == 5){
                    printf("\n");
                    a = 0;
                }

            }
        }
        printf("\n");
    }
    return 0;
}
```

